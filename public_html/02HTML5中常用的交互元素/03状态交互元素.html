<!DOCTYPE html>
<html>
  <head>
    <title>TODO supply a title</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="../css/common.css" rel="stylesheet" type="text/css"/>
  </head>
  <body>
    <div>
      <fieldset>
        <legend>
          progress进度条
        </legend>
        总算有个看上去比较实用的标签了，没错儿，就是我们的&lt;progress&gt;
        <p id="pTip">开始下载</p>
        <progress value="0" max="100" id='proDownFile'></progress>
        <input type="button" value="戳我下载" onClick='Btn_click()'>
      </fieldset>
    </div>
    <div>
      <fieldset>
        <legend>meter</legend>
        又一个实用的标签&lt;meter&gt;现在我们的任务是说服UI，让他们知道美应该是这个样子
        <p>共有120人参与投票，明细如下：</p>
        <p>张三：
          <meter value='0.3' optimum="1" high="0.9" low="1" max="1" min="0"></meter>
          <span>30%</span>
        </p>
        <p>李四：
          <meter value='85' optimum="90" high="70" low="40" max="100" min="0" Id = 'meter'></meter>
          <span>70%</span>
        </p>
      </fieldset>

    </div>
    <div>
      <fieldset>
        <legend>
          <h3>meter标签颜色改变规则</h3>
        </legend>
        这是关于meter的一点小tip，或许贴出value会更有助于理解？
      <table>
        <tr>
          <th>min</th>
          <th>low</th>
          <th>high</th>
          <th>max</th>
        </tr>
        <tr>
          <td>10</td>
          <td>30</td>
          <td>70</td>
          <td>90</td>
        </tr>
      </table>
      <p>
        optimum = 20
        <meter value='20' optimum="20" high="70" low="30" max="90" min="10"></meter> 20%
        <meter value='50' optimum="20" high="70" low="30" max="90" min="10"></meter> 50%
        <meter value='80' optimum="20" high="70" low="30" max="90" min="10"></meter> 80%
      </p>
      <p>
        optimum = 50
        <meter value='20' optimum="50" high="70" low="30" max="90" min="10"></meter> 20%
        <meter value='50' optimum="50" high="70" low="30" max="90" min="10"></meter> 50%
        <meter value='80' optimum="50" high="70" low="30" max="90" min="10"></meter> 80%
      </p>
      <p>
        optimum = 80
        <meter value='20' optimum="80" high="70" low="30" max="90" min="10"></meter> 20%
        <meter value='50' optimum="80" high="70" low="30" max="90" min="10"></meter> 50%
        <meter value='80' optimum="80" high="70" low="30" max="90" min="10"></meter> 80%
      </p>
      </fieldset>
      
    </div>
    <script>
      let int_v = 0
      let status = new Boolean(false)
      let int_t
      let objPro = document.getElementById('proDownFile')
      let objTip = document.getElementById('pTip')
      const Inter = () => {
        int_v++
        objPro.value = int_v
        if (int_v >= objPro.max) {
          clearInterval(int_t)
          objTip.innerHTML = '下载完成！'
        } else {
          objTip.innerHTML = '正在下载' + int_v + '%'
        }
      }
      const Btn_click = () => {
        console.log(status)
        if (status) {
          status = false
          int_t = setInterval(Inter, 100)
        }
      }
    </script>
  </body>
</html>
